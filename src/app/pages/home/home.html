<app-header />
<div class="dashboard-layout">
  <!-- Sidebar -->
  <aside class="w-3xs border-r border-amber-100 p-10">
    <h1 class="font-bold text-xl mb-8">Dashboard</h1>
    <nav class="sidebar-nav">
      <ul>
        <li><a [routerLink]="['/create-blog']" class="active">Create a new blog</a></li>
        <li><a href="#">Comments</a></li>
        <li><a href="#">Stats</a></li>
        <li><a href="#">Earnings</a></li>
        <li><a href="#">Settings</a></li>
      </ul>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <div class="container">
      <h1 class="main-title">Your blogs</h1>
      @if(spinnerStart){
      <fa-icon [icon]="faspinner" [animation]="'spin'"></fa-icon>
      } @else { @for(blog of blogs; track blog.id){
      <div class="card" (click)="viewBlog($event, blog.id, blog.title)">
        <div class="card-actions">
          <div><span class="status-badge status-published">Published</span></div>
          <div class="action-icons">
            <div
              (click)="viewBlog($event, blog.id, blog.title)"
              title="edit"
              class="cursor-pointer rounded-[50%] pt-[0.5rem] pb-[0.5rem] pl-[0.7rem] pr-[0.7rem] bg-(--btn-secondary) hover:bg-(--btn-secondary-hover)"
            >
              <fa-icon [icon]="fapen" id="pen"></fa-icon>
            </div>
            <div
              (click)="deleteBlog(blog.id)"
              title="delete"
              class="cursor-pointer rounded-[50%] pt-[0.5rem] pb-[0.5rem] pl-[0.7rem] pr-[0.7rem] bg-(--btn-secondary) hover:bg-(--btn-secondary-hover)"
            >
              <fa-icon [icon]="fatrash"></fa-icon>
            </div>
          </div>
        </div>
        <div class="card-header">
          <div class="card-title-section">
            <h4 class="card-title">{{ blog.title | slice : 0 : 100 }}</h4>
            <p class="card-date">Published on: {{ blog.updatedAt }}</p>
          </div>
        </div>
        <p class="card-body">
          {{ blog.excerpt | slice : 0 : 200 }}
        </p>
      </div>
      } @empty{ @if(!spinnerStart){
      <p>{{ errorMessage }}</p>
      } } }
    </div>
  </main>
</div>
